{% extends "base.html" %}
{% block title %}Пользователи{% endblock %}
{% block page_title %}Пользователи{% endblock %}
{% block content %}
<style>
  .card-list { max-width:900px; margin:24px 24px 40px 48px; background:#fff; border-radius:16px; box-shadow:0 10px 20px rgba(0,0,0,0.08); }
  .row-item { display:flex; align-items:center; justify-content:space-between; padding:16px 20px; border-bottom:1px solid #f0f0f0; }
  .row-item:last-child { border-bottom:none; }
  .muted { color:#8a9096; }
  .button { background-color: transparent; color: #ff8a2f; height: 2.0em; border: 1px solid #ff8a2f; border-radius: 10px; transition: all 0.4s ease; display:inline-flex; align-items:center; justify-content:center; padding: 0 0.9em; font-size: 13px; }
  .button:hover { background-color: #ff8a2f; cursor: pointer; color:#fff; border-radius: 8px; }
</style>
<div class="card-list">
  <div class="d-flex justify-content-between align-items-center" style="padding:16px 20px;">
    <h4 style="margin:0;">Пользователи</h4>
  </div>
  {% for u in users %}
    <div class="row-item">
      <div>
        <div><strong style="color:#ff8a2f;">{{ u.username }}</strong> <span class="muted">• {{ u.email|default:"email не указан" }}</span></div>
        <div class="muted">Роль: {% if u.role == 'manager' %}менеджер{% elif u.role == 'engineer' %}инженер{% elif u.is_superuser %}администратор{% else %}наблюдатель{% endif %}</div>
      </div>
      <a class="button" href="/users/{{ u.id }}/edit/">Редактировать</a>
    </div>
  {% empty %}
    <div class="row-item"><span class="muted">Нет пользователей</span></div>
  {% endfor %}
</div>
{% endblock %}